<!DOCTYPE html>
<html lang="zh-Hant">
<head>
	<!-- html5 meta -->
	<meta charset="UTF-8">
	<meta name="author" content="Hans Liu">
	<meta name="description" content="Hans Bloglife, photo, code">
	<meta name="keywords" content="life, photo, code">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Setup Python environment on Mac via pyenv and pipenv | Hans Blog</title>
	<link rel="canonical" href="https://hansliu.com/posts/2020/09/setup-python-environment-on-mac-via-pyenv-and-pipenv.html">

	<!-- icon -->
	<link rel="icon" type="image/x-icon" href="https://hansliu.com/images/favicon.ico">

	<!-- parser -->
	<meta name="robots" content="index, follow">
	<meta name="googlebot" content="index, follow">
	<meta name="baiduspider" content="index, nofollow">

	<!-- og -->
	<meta property="og:title" content="Setup Python environment on Mac via pyenv and pipenv">
	<meta property="og:url" content="https://hansliu.com/posts/2020/09/setup-python-environment-on-mac-via-pyenv-and-pipenv.html">
	<meta property="og:site_name" content="Hans Blog">
	<meta property="og:type" content="article">

  <!-- cdn css -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"
		integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog=="
		crossorigin="anonymous" />
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
		integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
		crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css"
		integrity="sha512-+EoPw+Fiwh6eSeRK7zwIKG2MA8i3rV/DGa3tdttQGgWyatG/SkncT53KHQaS5Jh9MNOT3dmFL0FjTY08And/Cw=="
		crossorigin="anonymous" />

	<!-- css -->
	<link rel="stylesheet" href="https://hansliu.com/theme/css/main.css?v=20200913164856" type="text/css">

	<!-- feed -->
	<link href="https://hansliu.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Hans Blog Full Atom Feed"/>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-49957360-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-49957360-1');
	</script>

</head>

<body>
  <div id="blog">

    <!-- canvas -->
    <div id="button-close-sidebar"></div>

    <nav id="sidebar" data-behavior="2">
      <div class="sidebar-container">
        <div class="sidebar-profile">
					<img class="sidebar-profile-image" src="https://www.gravatar.com/avatar/9f7a4464129bd81ca5ac89e8067a5178?s=110" alt="Author's image"></img>
        </div>
        <p class="sidebar-profile-name">
          Hans Blog</br>
					life, photo, code
        </p>
        <div id="google-custom-search">
          <script async src="https://cse.google.com/cse.js?cx=011860739956157042125:fttd__0pkbu"></script>
          <div class="gcse-search"></div>
        </div>
        <ul class="fa-ul">
<!-- /.Menuitems -->
                <li><a href="https://hansliu.com/"><i class="fa-li fas fa-home"></i>Home</a></li>
                <li><a href="https://hansliu.com/pages/photography.html"><i class="fa-li fas fa-camera-retro"></i>互惠攝影</a></li>

              <li class="active"><a href="https://hansliu.com/category/ji-shu-bi-ji/"><i class="fa-li fas fa-folder-open"></i> 技術筆記 (16)</a></li>
              <li ><a href="https://hansliu.com/category/jiao-se-ban-yan/"><i class="fa-li fas fa-folder-open"></i> 角色扮演 (28)</a></li>
              <li ><a href="https://hansliu.com/category/ren-xiang-she-ying/"><i class="fa-li fas fa-folder-open"></i> 人像攝影 (20)</a></li>
              <li ><a href="https://hansliu.com/category/ri-chang-xie-xie/"><i class="fa-li fas fa-folder-open"></i> 日常寫寫 (52)</a></li>
              <li ><a href="https://hansliu.com/category/ying-xiang-xu-shi/"><i class="fa-li fas fa-folder-open"></i> 影像敘事 (90)</a></li>
<!-- /.Categories -->

            <li><a href="https://hansliu.com/archives/index.html"><i class="fa-li fas fa-archive"></i>Archives</a></li>

              <li><a href="http://feeds.feedburner.com/hansliu"><i class="fa-li fas fa-rss-square"></i> Burner Feed</a></li>
<!-- /.Feeds -->
        </ul>
      </div>
    </nav>

    <header id="header" data-behavior="2">
      <a id="button-open-sidebar"><i class="fas fa-bars"></i></a>
      <div class="header-title">
        <a class="header-title-link" href="https://hansliu.com" rel="bookmark" title="Permalink to Hans Blog">Hans Blog - life, photo, code</a>
      </div>
      <span class="header-right">
				<img class="header-image" src="https://www.gravatar.com/avatar/9f7a4464129bd81ca5ac89e8067a5178?s=110" alt="Author's image"></img>
			</span>
    </header>

    <div id="main" data-behavior="2">
<section>
	<div class="content-wrap">
		<article id="article">
			<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
			<!-- 回應式廣告單元 -->
			<ins class="adsbygoogle"
					style="display:block"
					data-ad-client="ca-pub-2397402631312142"
					data-ad-slot="5726206164"
					data-ad-format="auto"
					data-full-width-responsive="true"></ins>
			<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
			</script><!-- /.Google Adsense -->

			<h1 class="post-title">Setup Python environment on Mac via pyenv and pipenv</h1>

			<div class="post-info">
				<span>Hans Liu</span>

				posted on September 13, 2020

				<script id="dsq-count-scr" src="//hansliu.disqus.com/count.js" async></script>
				| <i class="far fa-comment"></i> <a href="https://hansliu.com/posts/2020/09/setup-python-environment-on-mac-via-pyenv-and-pipenv.html#disqus_thread"></a>


				
			</div><!-- /.post-info -->

			<div class="post-content">
					<a href="https://lh3.googleusercontent.com/pw/ACtC-3f18vRaBefUFLu6poPr-Hl78s8W5A9mPvoedwWxAS2_jk7HKKKjLaqGltu7OysZbZdWFCMdNbJHzDEV5IGUXbFUih9Tr5rB1dvl2bOxUNtkUoc0ZiOWbOJaVFtbLepIV8IytlFUgPDAzdXR9fdRNQrCrg=w983-h974-no?authuser=0"><img src="https://lh3.googleusercontent.com/pw/ACtC-3f18vRaBefUFLu6poPr-Hl78s8W5A9mPvoedwWxAS2_jk7HKKKjLaqGltu7OysZbZdWFCMdNbJHzDEV5IGUXbFUih9Tr5rB1dvl2bOxUNtkUoc0ZiOWbOJaVFtbLepIV8IytlFUgPDAzdXR9fdRNQrCrg=w983-h974-no?authuser=0"></a>
				<p>The following section covers Python related setup for development and how to ensure that your code would be deployable.</p>
<h3>Install brew</h3>
<p>Homebrew is package manager for Macs which makes installing lots of different software like Git, Ruby, and Node simpler. Homebrew lets you avoid possible security problems associated with using the sudo command to install software like Node. Note this is only compatible with MacOS.</p>
<div class="highlight"><pre><span></span><code><span class="err">ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span>
</code></pre></div>


<p>You’ll see messages in the Terminal explaining what you need to do to complete the installation process. You can learn more about Homebrew at the <a href="http://brew.sh/">Homebrew website</a>.</p>
<h3>Install pyenv</h3>
<p>For local development <strong>never</strong> install packages or modify your system Python installation. To be able to install new or updated Python versions, use <a href="https://github.com/pyenv/pyenv">pyenv</a>. Note this is only compatible with MacOS or Linux.</p>
<div class="highlight"><pre><span></span><code><span class="n">brew</span> <span class="n">update</span>
<span class="n">brew</span> <span class="n">install</span> <span class="n">pyenv</span>

<span class="c1"># Use Homebrew&#39;s directories rather than ~/.pyenv</span>
<span class="n">echo</span> <span class="s1">&#39;export PYENV_ROOT=&quot;/usr/local/var/pyenv&quot;&#39;</span> <span class="o">&gt;&gt;</span> <span class="o">~/.</span><span class="n">bash_profile</span>

<span class="c1"># Enable shims and autocompletion</span>
<span class="n">echo</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;if command -v pyenv 1&gt;/dev/null 2&gt;&amp;1; then</span><span class="se">\n</span><span class="s1">  eval &quot;$(pyenv init -)&quot;</span><span class="se">\n</span><span class="s1">fi&#39;</span> <span class="o">&gt;&gt;</span> <span class="o">~/.</span><span class="n">bash_profile</span>

<span class="n">source</span> <span class="o">~/.</span><span class="n">bash_profile</span>

<span class="c1"># Check pyenv has been properly installed and configured</span>
<span class="n">pyenv</span> <span class="n">versions</span>
</code></pre></div>


<h4>Python Versions</h4>
<p>Using <code>pyenv</code>, install the necessary version for development. For example, we use <strong>Python 3.8.5</strong> for development. For legacy projects, use <strong>Python 2.7.13</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">pyenv</span> <span class="n">install</span> <span class="mi">3</span><span class="p">.</span><span class="mi">8</span><span class="p">.</span><span class="mi">5</span>
<span class="n">pyenv</span> <span class="n">install</span> <span class="mi">2</span><span class="p">.</span><span class="mi">7</span><span class="p">.</span><span class="mi">13</span>

<span class="n">pyenv</span> <span class="k">global</span> <span class="mi">2</span><span class="p">.</span><span class="mi">7</span><span class="p">.</span><span class="mi">13</span> <span class="mi">3</span><span class="p">.</span><span class="mi">8</span><span class="p">.</span><span class="mi">5</span>

<span class="o">#</span> <span class="k">Check</span> <span class="k">versions</span> <span class="n">have</span> <span class="n">been</span> <span class="n">installed</span> <span class="k">and</span> <span class="n">assigned</span> <span class="k">to</span> <span class="k">global</span>
<span class="n">pyenv</span> <span class="k">versions</span>
</code></pre></div>


<h3>Install pipenv</h3>
<p>To make development and deployment easier, <a href="https://github.com/pypa/pipenv">pipenv</a> is used to manage virtual environments and lock dependencies.</p>
<p>The environment variable ensures that virtual environments are created within each project folder. The main reason is for convenience as <code>Visual Studio Code</code> automatically detects and switches virtual environments if <code>.venv</code> is found within the folder.</p>
<div class="highlight"><pre><span></span><code><span class="n">brew</span> <span class="n">update</span>
<span class="n">brew</span> <span class="n">install</span> <span class="n">pipenv</span>

<span class="n">echo</span> <span class="s1">&#39;export PIPENV_VENV_IN_PROJECT=1&#39;</span> <span class="o">&gt;&gt;</span> <span class="o">~/.</span><span class="n">bash_profile</span>

<span class="n">source</span> <span class="o">~/.</span><span class="n">bash_profile</span>
</code></pre></div>


<h3>Usage</h3>
<div class="highlight"><pre><span></span><code><span class="err">cd path/to/project</span>
<span class="err">pipenv --python 3.8.5</span>
<span class="err">pipenv install &lt;new_package&gt;</span>
</code></pre></div>


<p>Do remember to check in the generated/updated <code>Pipfile</code> and <code>Pipfile.lock</code> to be able to have reproducible builds in production.</p>
			</div>

			<div class="post-tag">
				<a href="https://hansliu.com/tag/python/">Python</a>
			</div>

<div class="container-fluid post-footer">
	<div class="row">
		<div class="col-12 col-md-6">
			<div class="row post-author-info">
				<div class="col-4">
					<img class="post-author-image" src="https://www.gravatar.com/avatar/9f7a4464129bd81ca5ac89e8067a5178?s=110" alt="Author's image"></img>
				</div>
				<div class="col-8">
					<h3 class="post-author-name">Hans Liu</h3>
<!-- /.Social -->
								<a href="https://linkedin.com/in/liuhans" target="_blank"><i class="fab fa-linkedin fa-2x"></i></a>
								<a href="https://github.com/hansliu" target="_blank"><i class="fab fa-github-square fa-2x"></i></a>
								<a href="https://500px.com/hcliu" target="_blank"><i class="fab fa-500px fa-2x"></i></a>
					<p class="post-author-description">
						Is a programmer, photographer, and traveler.
					</p>
				</div>
			</div>
		</div>

		<div class="col-12 col-md-6">
			<div class="row post-category-info">
				<div class="col-4">
					<a href="https://hansliu.com/category/ji-shu-bi-ji/">
						<img class="post-category-image" src="https://hansliu.com/images/005-coding.png" alt="Category's image"></img>
					</a>
				</div>
				<div class="col-8">
					<h1 class="post-category-title"><a href="https://hansliu.com/category/ji-shu-bi-ji/">技術筆記</a></h1>
				</div>
			</div>
		</div>
	</div>
</div>
			<div class="related-posts">
				<h3>More related articles</h3>
				<!-- TODO: Use fancier related layout, as in http://kevin.deldycke.com/2012/04/beautify-contextual-related-posts-wordpress-plugin/ -->
				<ul>
						<li><a href="https://hansliu.com/posts/2015/07/github-etraining-course-finder-heroku.html">Taiwan eTraining Course Finder in Heroku</a></li>
						<li><a href="https://hansliu.com/posts/2015/06/2015-pycon.html">2015 PyCon</a></li>
						<li><a href="https://hansliu.com/posts/2014/11/github-process-count-supervisor.html">使用 Process Count Supervisor + Cronjob 管理背景行程數</a></li>
						<li><a href="https://hansliu.com/posts/2014/06/2014-pycon.html">2014 PyCon</a></li>
						<li><a href="https://hansliu.com/posts/2014/04/github-name-expansion.html">使用 Name Expansion + Fabric 同時部屬多台機器</a></li>
				</ul>
			</div>

<div class="comments">
	<div id="disqus_thread"></div>
	<script>

	var disqus_config = function () {
		this.page.url = 'https://hansliu.com/posts/2020/09/setup-python-environment-on-mac-via-pyenv-and-pipenv.html'; // Replace PAGE_URL with your page's canonical URL variable
		this.page.identifier = 'hansliu'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
	};

	(function() { // DON'T EDIT BELOW THIS LINE
		var d = document, s = d.createElement('script');
		s.src = 'https://hansliu.disqus.com/embed.js';
		s.setAttribute('data-timestamp', +new Date());
		(d.head || d.body).appendChild(s);
	})();
	</script>
</div>
		</article>
	</div><!-- /.content-wrap -->
</section>

      <section>
				<div class="content-wrap">
					<footer id="footer">
						<div class="links">
								<a href="https://hansliu.com/pages/tos.html">Terms</a>
								<a href="https://hansliu.com/pages/privacy.html">Privacy</a>
								<a href="https://getpelican.com/" target="_blank">Pelican</a>
								<a href="https://jinja.pocoo.org/" target="_blank">Jinja2</a>
								<a href="https://favicon.io/" target="_blank">Favicon</a>
								<a href="https://www.flaticon.com/" target="_blank">Flaticon</a>
						</div><!-- /.Links -->
						<span class="copyrights">Copyrights © 2020 Hans Liu. All Rights Reserved.</span>
					</footer>
				</div>
			</section>

		</div>

	</div>

	<div id="cover" style="background-image:url('https://hansliu.com/theme/images/cover.jpg');"></div>

	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
		integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs="
		crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"
		integrity="sha512-jNDtFf7qgU0eH/+Z42FG4fw3w7DM/9zbgNPe3wfJlCylVDTT3IgKW5r92Vy9IHa6U50vyMz5gRByIu4YIXFtaQ=="
		crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"
		integrity="sha512-IsNh5E3eYy3tr/JiX2Yx4vsCujtkhwl7SLqgnwLNgf04Hrt9BT9SXlLlZlWx+OK4ndzAoALhsMNcCmkggjZB1w=="
		crossorigin="anonymous"></script>

		<script src="https://hansliu.com/theme/js/main.js?v=20200913164856"></script>
</body>
</html>